# FAQAS_SEMu

This project implements the test generation to kill mutants in the context of the project [FAQAS](https://faqas.uni.lu/).

The project `FAQAS_SEMu` is build on top of [SEMu](https://github.com/thierry-tct/KLEE-SEMu), 
a test input generation tool that kill mutants of [LLVM](https://llvm.org/) programs. 

`FAQAS_SEMu` uses [SEMu](https://github.com/thierry-tct/KLEE-SEMu) as backend to generate tests, and implements several components to:

- Convert the mutants generated by [MASS](https://arxiv.org/abs/2101.05111) to the format (meta-mutant) that 
can be compiled and used with [SEMu](https://github.com/thierry-tct/KLEE-SEMu)

- Dump, for each test, the code location where the test is generated, as well as the 
constraint that is solved to generate the test and the mutant of interest. (This is implemented in the source code of [SEMu](https://github.com/thierry-tct/KLEE-SEMu), see commit [xxx]()).

- Implement an option to tell [SEMu](https://github.com/thierry-tct/KLEE-SEMu) which additional functions should be considered as output functions, 
when generating a test to kill a mutant. (This is implemented in the source code of [SEMu](https://github.com/thierry-tct/KLEE-SEMu), the new parameter `--semu-custom-output-function`, see commits 
[963da4e](https://github.com/thierry-tct/KLEE-SEMu/commit/963da4e88cfe541389e674ea3d6e78c1aa74dc21), 
[a6d8aa8](https://github.com/thierry-tct/KLEE-SEMu/commit/a6d8aa815e2094b31704919297d7a41622c1b045), 
[76f01ed](https://github.com/thierry-tct/KLEE-SEMu/commit/76f01ed598a42d7398acd5b2b40d9a4781746d35), 
[7d19d05](https://github.com/thierry-tct/KLEE-SEMu/commit/7d19d050b967e741f9d215b41f7d51070bfad0a2),
[3b0bf1f](https://github.com/thierry-tct/KLEE-SEMu/commit/3b0bf1f548b5f7130768f8495916c98c16034f8c#diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5)).

## Building the FAQAS-SEMu Docker image
Given that the mutation is performed by MASS, prio to building the Docker image, MASS must temporarily be cloned in the root of this repository (for the purpose of building the Docker image). MASS is available at `https://gitlab.uni.lu/ocornejo1/srcirorfaqas.git` (through HTTPS) or `ssh://git@gitlab.uni.lu:8022/ocornejo1/srcirorfaqas.git` (through SSH)

The exact command to build the `faqas_semu` Docker image is available in the header of the [Dockerfile](Dockerfile)

## Running ASN case study
Instruction to run the ASN case study is available in [ASN README.md](case_studies/ASN/README.md)

## Running MLFS case study
Instruction to run the MLFS case study is available in [MLFS README.md](case_studies/MLFS/README.md)

## Installing dependencies

Install dependencies (tested on ubuntu) using the following command:
```
./install_requirements.sh
```
