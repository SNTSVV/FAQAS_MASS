% !TEX root = MAIN.tex

\chapter{Configuration of the FAQAS Toolset}

\TODO{that we used}

\TODO{Did you want to say that you followed the default configuration provided in the SUM except for... ?}
\TODO{"Specific configuration" is not a generic concept that anyone can understand, you have to clarify what do you mean with that}

In this chapter, we provide the specific configurations we used for MASS and SEMuS to enable code-driven mutation testing in the Libutil case study.

\section{MASS Configurations}


Concerning the configuration of the \textbf{MASS tool}, the only specific configurations that we considered were the ones regarding the disregarding of equivalent and duplicate mutants with trivial compiler optimizations, and the one concerning the use of sampling.
In the case of trivial compiler optimisations we enabled all levels of optimizations permitted by GCC~\cite{GCCopt}, that is, levels \texttt{O0}, \texttt{O1}, \texttt{O2}, \texttt{O3}, \texttt{Ofast}, and \texttt{Os}. 
In the case of sampling, we decided to analyze all the mutants generated by the tool, and do not employ sampling methods. 

\section{SEMuS Configurations}

Now we report the configurations concerning the \textbf{SEMuS tool}, the specific configurations concerned the compilation command used, the timeouts, and the memory limits imposed to the test generation process.

\begin{lstlisting}[language=bash, label=libutil_com_cmd, caption=Compilation command for a single Libutil source used in SEMuS.]
-g -std=gnu99 -m64 -O0 -Wall -Wextra -Wshadow -Wcast-align -Wwrite-strings -Wno-unused-parameter -I$repo_root_dir/src -I$repo_root_dir/src/gosh -I$repo_root_dir/src/zip -I$repo_root_dir/src/watchdog  -I$repo_root_dir/build/src/watchdog -I$repo_root_dir/build/src -I$repo_root_dir/include -I$repo_root_dir/build/include -I$repo_root_dir/include/gs -I$repo_root_dir/build/include/gs -I$repo_root_dir/include/deprecated -I$repo_root_dir/build/include/deprecated -I$repo_root_dir/include/deprecated/gs/gosh -I$repo_root_dir/build/include/deprecated/gs/gosh -I$repo_root_dir/include -o $out_file $in_file
\end{lstlisting}

Listing~\ref{libutil_com_cmd} presents the compilation command we used to enable test generation on Libutil, in particular, the variable \texttt{\$repo\_root\_dir} represents the installation path of Libutil, \texttt{\$out\_file} represents the file storing the compiled object, and \texttt{\$in\_file} represents the source being analyzed.


We configured SEMuS to terminate the test generation after 300 seconds. The timeout implies that after 300 seconds, SEMuS will try to generate test inputs for the states reached so far, even if the symbolic execution has not reached the end of the function under test.

\TODO{What are the implication of the above? You should write that it still checks if the generated inputs kill the mutants, if not they are discarded.}

We also set SEMuS to use a maximum of 2\,000 MB for the test generation, which means that if the test generation reaches 2\,000 MB of memory consumption, the test generation process will be stopped.

\TODO{What is the motivation for the choice above? Why do we believe is a good compromise between scalability and effectiveness?}

