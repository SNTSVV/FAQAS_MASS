% !TEX root = MAIN.tex


\subsection{Test Suite Evaluation Based on Data-driven Mutation}
\label{sec:dataDriven}

The following requirements regard the Test Suite Evaluation Based on the Data-driven Mutation Testing functionality of the \FAQAS.



\RQ{} The \FAQAS shall work with a fault model and a data model for the SUT specified according to D2.

\RQ{} The \FAQAS shall provide a mutation analysis API (i.e., predefined functions to perform data mutation for buffers).

\RQ{} The \FAQAS shall automatically generate the data mutation probes to be integrated within the SUT.

\RQ{} The engineer shall manually modify the source code of the SUT to integrate mutation probes into it.

\RQ{} The \FAQAS shall support C-coded software and C++-coded software.


%\RQ{} The \FAQAS shall require the engineer to manually modify the scripts used to execute test cases so they include an invocation to \FAQAS after the execution of every single test case.
%
%\RQ{} The \FAQAS shall receive as inputs the command to compile the SUT, the command to execute the test suite, the path to the extended SUT source code, and the mutants selection configuration.

\RQ{} The \FAQAS shall provide the engineer with the ability to choose to mutate all the instances of the data item, one instance of the data item, or a percentage of the instances.

% \RQ{} The \FAQAS shall mutate the target data item by applying a set of mutation operations derived by a set of mutation operators that shall be specified by the engineer in the Fault Model.

\RQ{} The \FAQAS shall implement the set of operators listed in Table~\ref{table:damat:operators}.

\input{tables/operators_DAMA.tex}

\RQ{} For every mutation operator, the \FAQAS shall generate one or more mutants performing a mutation operation.

\RQ{} The \FAQAS shall identify each mutant with a unique numerical identifier.

\RQ{} The \FAQAS will automatically generate a table containing the definition of all the generated mutants and their identifiers.

\RQ{} The \FAQAS shall work with compilation scripts that are modified by the engineer according to rules specific for the \FAQAS.

\RQ{} The \FAQAS shall enable the compilation of a version of the SUT that traces the data items (targeted by mutation) that are covered by each test case.

\RQ{} The \FAQAS shall derive, from logs generated during the execution of the SUT test suite, the data items exercised by each test case.

\RQ{} The \FAQAS shall provide, for each mutant, a list of all test cases covering the data item targeted by the mutant.

\RQ{} The \FAQAS shall compile a version of the SUT for every generated mutant.

\RQ{} For each mutation operator, the \FAQAS shall execute only the test cases exercising the data item targeted by the mutation operator.

\RQ{} The \FAQAS shall execute every mutant against all the test cases exercising the data item targeted by the mutation operator.

\RQ{} The \FAQAS shall support test case execution following the practice for the SUT (e.g., running the command \texttt{make test}).

\RQ{} For each mutation operation, the \FAQAS shall provide the engineer with information on the number of instances of the data item that have been mutated and not mutated by the selected mutation operation.

\RQ{} The \FAQAS shall automatically determine if the mutation operation has been performed at least once.

\RQ{} The \FAQAS shall automatically determine if a mutant has been killed.

\RQ{} The \FAQAS shall execute the test suite until all mutants targeting at least one covered data item have been executed.

\RQ{} The \FAQAS shall compute the fault model coverage (see D2) on the mutation results.

\RQ{} The \FAQAS shall compute the mutation operation coverage (see D2) on the mutation results.

\RQ{} The \FAQAS shall compute the mutation score based on the mutation results.

\RQ{} The \FAQAS shall produce a list of all the mutants and their status.

\RQ{} The \FAQAS shall describe the status of a mutant relative to the Fault Model Coverage as \texttt{COVERED}, if the or \texttt{NOT\_COVERED}.

\RQ{} The \FAQAS shall mark all mutants targeting a data item exercised by the test suite as \texttt{COVERED}.

\RQ{} The \FAQAS shall mark all mutants targeting a data item not exercised by the test suite as \texttt{NOT\_COVERED}

\RQ{} The \FAQAS shall describe the status of a mutant relative to the Mutation Operation Coverage as \texttt{APPLIED} or \texttt{NOT\_APPLIED}.

\RQ{} The \FAQAS shall mark all mutants that performed the corresponding mutation operation at least once as \texttt{APPLIED}

\RQ{} The \FAQAS shall mark all mutants that did not perform the corresponding mutation operation at least once as \texttt{NOT\_APPLIED}.

\RQ{} The \FAQAS shall describe the status of a mutant relative to the Mutation Score as \texttt{KILLED} or \texttt{LIVE}.

\RQ{} The \FAQAS shall mark all mutants that caused at least a test case failure as \texttt{KILLED}.

\RQ{} The \FAQAS shall mark all mutants that did not cause at least a test case failure as \texttt{LIVE}.

\RQ{} The \FAQAS shall provide the engineer with the means to inspect the mutation results. The \FAQAS data-driven mutation results shall include the list of data types not covered by any test case, the list of data types exercised by each test case, the list of live and killed mutants, and the result of every executed test case.

%\RQ{} The data-driven mutation testing component from \FAQAS shall not implement any feature to automatically generate test cases.

\subsection{Test Suite Augmentation Based on Data-driven Mutation}
\label{sec:codeDrivenAugmentation}

The following requirements regard the Test Suite Augmentation functionality that aims to generate test cases that kill mutants generated with the Data-driven Mutation functionality of the \FAQAS.

\RQ{} The \FAQAS shall generate a version of the testing API that shall contain reachability assertions that enable KLEE to generate inputs that reach the mutation.

\RQ{} The \FAQAS shall not fully automate the Data-driven Test Suite Augmentation functionality.

\remark The engineer shall execute KLEE, after performing the required scaffolding, if necessary.
Also, the engineer shall implement a test case based on KLEE's output.
